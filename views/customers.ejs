<%- include('partials/header') %>

<div class="row mb-4">
  <div class="col">
    <h2><i class="fas fa-users"></i> Customers</h2>
  </div>
  <div class="col text-end">
    <a href="/customers/add" class="btn btn-primary">
      <i class="fas fa-plus"></i> Add Customer
    </a>
  </div>
</div>

<div class="card">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Customer ID</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Address</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% if (customers.length === 0) { %>
            <tr>
              <td colspan="6" class="text-center">No customers found</td>
            </tr>
          <% } else { %>
            <% customers.forEach(customer => { %>
              <tr>
                <td><%= customer.customer_id %></td>
                <td><%= customer.name %></td>
                <td><%= customer.phone %></td>
                <td><%= customer.email %></td>
                <td><%= customer.address %></td>
                <td>
                  <form action="/customers/delete/<%= customer._id %>" method="POST" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this customer?');">
                    <button type="submit" class="btn btn-sm btn-danger">
                      <i class="fas fa-trash"></i> Delete
                    </button>
                  </form>
                </td>
              </tr>
            <% }); %>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<%- include('partials/footer') %>